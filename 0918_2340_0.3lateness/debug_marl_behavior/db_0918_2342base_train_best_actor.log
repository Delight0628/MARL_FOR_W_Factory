2025-09-18 23:42:42.499472: E tensorflow/compiler/xla/stream_executor/cuda/cuda_driver.cc:268] failed call to cuInit: CUDA_ERROR_NO_DEVICE: no CUDA-capable device is detected
🌱 使用随机种子: 42
================================================================================
🔬 MARL模型行为分析
模型路径: mappo/ppo_models/20250918_234102/0918_2342base_train_best_actor.keras
策略模式: 随机 (与evaluation.py对齐)
最大步数: 600
================================================================================

==================== 开始测试: 基准配置 ====================
🔍 开始调试MARL模型行为
📋 配置: 静态评估
🕹️  策略: 随机 (与evaluation.py对齐)
🌱 随机种子: 42
✅ 成功加载模型: mappo/ppo_models/20250918_234102/0918_2342base_train_best_actor.keras
🏭 环境信息:
   智能体数量: 5
   智能体列表: ['agent_带锯机', 'agent_五轴加工中心', 'agent_砂光机', 'agent_组装台', 'agent_包装台']

🎯 开始记录前600步的动作模式...

--- 步骤 1: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.79%, PROCESS_PART_1: 26.03%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.32%

--- 步骤 1: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 1: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 1: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 1: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 2: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 241.0]
    2. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 241.0]
    3. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 241.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.86%, PROCESS_PART_1: 26.12%, PROCESS_PART_2: 24.42%, PROCESS_PART_3: 25.61%

--- 步骤 2: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 2: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 2: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 2: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 3: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 100.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 240.0]
    2. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 240.0]
    3. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 240.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.84%, PROCESS_PART_1: 26.05%, PROCESS_PART_2: 24.46%, PROCESS_PART_3: 25.64%

--- 步骤 3: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 3: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 3: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 3: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 4: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 100.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 239.0]
    2. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 239.0]
    3. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 239.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.84%, PROCESS_PART_1: 26.05%, PROCESS_PART_2: 24.46%, PROCESS_PART_3: 25.64%

--- 步骤 4: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 4: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 4: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 4: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 5: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 100.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 238.0]
    2. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 238.0]
    3. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 238.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.84%, PROCESS_PART_1: 26.05%, PROCESS_PART_2: 24.46%, PROCESS_PART_3: 25.64%

--- 步骤 5: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 5: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 5: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 5: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.04%, PROCESS_PART_3: 25.09%

--- 📈 KPI 快照 (第 100 步) ---
   完成零件: 4
   在制品(WIP): 38
   累计延期: 0.0
   当前利用率: 55.9%
-----------------------------------

--- 📈 KPI 快照 (第 200 步) ---
   完成零件: 11
   在制品(WIP): 31
   累计延期: 0.0
   当前利用率: 60.2%
-----------------------------------

--- 📈 KPI 快照 (第 300 步) ---
   完成零件: 18
   在制品(WIP): 24
   累计延期: 0.0
   当前利用率: 63.0%
-----------------------------------

--- 📈 KPI 快照 (第 400 步) ---
   完成零件: 27
   在制品(WIP): 15
   累计延期: 46.0
   当前利用率: 63.5%
-----------------------------------

--- 📈 KPI 快照 (第 500 步) ---
   完成零件: 33
   在制品(WIP): 9
   累计延期: 46.0
   当前利用率: 60.2%
-----------------------------------
🏁 环境在第576步结束

📊 动作统计分析 (总共576步):
------------------------------------------------------------
agent_带锯机:
   动作0 (IDLE): 39次 (6.8%)
   动作1 (PROCESS_PART_1): 489次 (84.9%)
   动作2 (PROCESS_PART_2): 25次 (4.3%)
   动作3 (PROCESS_PART_3): 23次 (4.0%)

agent_五轴加工中心:
   动作0 (IDLE): 39次 (6.8%)
   动作1 (PROCESS_PART_1): 478次 (83.0%)
   动作2 (PROCESS_PART_2): 35次 (6.1%)
   动作3 (PROCESS_PART_3): 24次 (4.2%)

agent_砂光机:
   动作0 (IDLE): 29次 (5.0%)
   动作1 (PROCESS_PART_1): 481次 (83.5%)
   动作2 (PROCESS_PART_2): 36次 (6.2%)
   动作3 (PROCESS_PART_3): 30次 (5.2%)

agent_组装台:
   动作0 (IDLE): 24次 (4.2%)
   动作1 (PROCESS_PART_1): 498次 (86.5%)
   动作2 (PROCESS_PART_2): 24次 (4.2%)
   动作3 (PROCESS_PART_3): 30次 (5.2%)

agent_包装台:
   动作0 (IDLE): 30次 (5.2%)
   动作1 (PROCESS_PART_1): 480次 (83.3%)
   动作2 (PROCESS_PART_2): 33次 (5.7%)
   动作3 (PROCESS_PART_3): 33次 (5.7%)

📈 最终KPI:
   完成零件: 42
   总工期: 575.0
   延期时间: 708.0
   设备利用率: 56.1%


==================== 开始测试: 泛化测试1-高压力短交期 ====================
🔍 开始调试MARL模型行为
📋 配置: 泛化测试1-高压力短交期
🕹️  策略: 随机 (与evaluation.py对齐)
🌱 随机种子: 42
✅ 成功加载模型: mappo/ppo_models/20250918_234102/0918_2342base_train_best_actor.keras
🏭 环境信息:
   智能体数量: 5
   智能体列表: ['agent_带锯机', 'agent_五轴加工中心', 'agent_砂光机', 'agent_组装台', 'agent_包装台']

🎯 开始记录前600步的动作模式...

--- 步骤 1: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.79%, PROCESS_PART_1: 26.03%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.32%

--- 步骤 1: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 1: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 1: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 1: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 2: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 141.0]
    2. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 141.0]
    3. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 141.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.86%, PROCESS_PART_1: 26.09%, PROCESS_PART_2: 24.42%, PROCESS_PART_3: 25.62%

--- 步骤 2: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 2: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 2: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 2: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 3: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 100.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 140.0]
    2. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 140.0]
    3. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 140.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.85%, PROCESS_PART_1: 26.03%, PROCESS_PART_2: 24.46%, PROCESS_PART_3: 25.66%

--- 步骤 3: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 3: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 3: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 3: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 4: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 100.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 139.0]
    2. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 139.0]
    3. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 139.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.85%, PROCESS_PART_1: 26.03%, PROCESS_PART_2: 24.46%, PROCESS_PART_3: 25.66%

--- 步骤 4: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 4: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 4: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 4: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 5: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 100.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 138.0]
    2. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 138.0]
    3. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 1.0, 终点站: 否, 松弛时间: 138.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.85%, PROCESS_PART_1: 26.03%, PROCESS_PART_2: 24.46%, PROCESS_PART_3: 25.66%

--- 步骤 5: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 5: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 5: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 5: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.04%, PROCESS_PART_3: 25.09%

--- 📈 KPI 快照 (第 100 步) ---
   完成零件: 4
   在制品(WIP): 38
   累计延期: 0.0
   当前利用率: 56.0%
-----------------------------------

--- 📈 KPI 快照 (第 200 步) ---
   完成零件: 11
   在制品(WIP): 31
   累计延期: 0.0
   当前利用率: 62.1%
-----------------------------------

--- 📈 KPI 快照 (第 300 步) ---
   完成零件: 18
   在制品(WIP): 24
   累计延期: 108.0
   当前利用率: 60.7%
-----------------------------------

--- 📈 KPI 快照 (第 400 步) ---
   完成零件: 28
   在制品(WIP): 14
   累计延期: 228.0
   当前利用率: 62.9%
-----------------------------------

--- 📈 KPI 快照 (第 500 步) ---
   完成零件: 38
   在制品(WIP): 4
   累计延期: 399.0
   当前利用率: 58.0%
-----------------------------------
🏁 环境在第543步结束

📊 动作统计分析 (总共543步):
------------------------------------------------------------
agent_带锯机:
   动作0 (IDLE): 32次 (5.9%)
   动作1 (PROCESS_PART_1): 464次 (85.5%)
   动作2 (PROCESS_PART_2): 18次 (3.3%)
   动作3 (PROCESS_PART_3): 29次 (5.3%)

agent_五轴加工中心:
   动作0 (IDLE): 29次 (5.3%)
   动作1 (PROCESS_PART_1): 454次 (83.6%)
   动作2 (PROCESS_PART_2): 30次 (5.5%)
   动作3 (PROCESS_PART_3): 30次 (5.5%)

agent_砂光机:
   动作0 (IDLE): 27次 (5.0%)
   动作1 (PROCESS_PART_1): 458次 (84.3%)
   动作2 (PROCESS_PART_2): 29次 (5.3%)
   动作3 (PROCESS_PART_3): 29次 (5.3%)

agent_组装台:
   动作0 (IDLE): 26次 (4.8%)
   动作1 (PROCESS_PART_1): 469次 (86.4%)
   动作2 (PROCESS_PART_2): 25次 (4.6%)
   动作3 (PROCESS_PART_3): 23次 (4.2%)

agent_包装台:
   动作0 (IDLE): 27次 (5.0%)
   动作1 (PROCESS_PART_1): 465次 (85.6%)
   动作2 (PROCESS_PART_2): 30次 (5.5%)
   动作3 (PROCESS_PART_3): 21次 (3.9%)

📈 最终KPI:
   完成零件: 42
   总工期: 542.0
   延期时间: 542.0
   设备利用率: 55.3%


==================== 开始测试: 泛化测试2-混合优先级 ====================
🔍 开始调试MARL模型行为
📋 配置: 泛化测试2-混合优先级
🕹️  策略: 随机 (与evaluation.py对齐)
🌱 随机种子: 42
✅ 成功加载模型: mappo/ppo_models/20250918_234102/0918_2342base_train_best_actor.keras
🏭 环境信息:
   智能体数量: 5
   智能体列表: ['agent_带锯机', 'agent_五轴加工中心', 'agent_砂光机', 'agent_组装台', 'agent_包装台']

🎯 开始记录前600步的动作模式...

--- 步骤 1: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.79%, PROCESS_PART_1: 26.03%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.32%

--- 步骤 1: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 1: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 1: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 1: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 2: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 橡木书柜: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    2. 橡木书柜: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    3. 橡木书柜: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.82%, PROCESS_PART_1: 26.14%, PROCESS_PART_2: 24.44%, PROCESS_PART_3: 25.60%

--- 步骤 2: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 2: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 2: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 2: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 3: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 100.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 橡木书柜: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    2. 橡木书柜: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    3. 橡木书柜: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.83%, PROCESS_PART_1: 26.07%, PROCESS_PART_2: 24.47%, PROCESS_PART_3: 25.63%

--- 步骤 3: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 3: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 3: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 3: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 4: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 100.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 橡木书柜: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    2. 橡木书柜: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    3. 橡木书柜: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.83%, PROCESS_PART_1: 26.07%, PROCESS_PART_2: 24.47%, PROCESS_PART_3: 25.63%

--- 步骤 4: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 4: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 4: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 4: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 5: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 100.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 橡木书柜: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    2. 橡木书柜: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    3. 橡木书柜: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.83%, PROCESS_PART_1: 26.07%, PROCESS_PART_2: 24.47%, PROCESS_PART_3: 25.63%

--- 步骤 5: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 5: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 5: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 5: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.04%, PROCESS_PART_3: 25.09%

--- 📈 KPI 快照 (第 100 步) ---
   完成零件: 1
   在制品(WIP): 59
   累计延期: 0.0
   当前利用率: 51.0%
-----------------------------------

--- 📈 KPI 快照 (第 200 步) ---
   完成零件: 8
   在制品(WIP): 52
   累计延期: 0.0
   当前利用率: 62.4%
-----------------------------------

--- 📈 KPI 快照 (第 300 步) ---
   完成零件: 14
   在制品(WIP): 46
   累计延期: 0.0
   当前利用率: 65.6%
-----------------------------------

--- 📈 KPI 快照 (第 400 步) ---
   完成零件: 25
   在制品(WIP): 35
   累计延期: 21.0
   当前利用率: 66.9%
-----------------------------------

--- 📈 KPI 快照 (第 500 步) ---
   完成零件: 34
   在制品(WIP): 26
   累计延期: 21.0
   当前利用率: 64.4%
-----------------------------------

--- 📈 KPI 快照 (第 600 步) ---
   完成零件: 42
   在制品(WIP): 18
   累计延期: 21.0
   当前利用率: 58.0%
-----------------------------------

📊 动作统计分析 (总共600步):
------------------------------------------------------------
agent_带锯机:
   动作0 (IDLE): 21次 (3.5%)
   动作1 (PROCESS_PART_1): 517次 (86.2%)
   动作2 (PROCESS_PART_2): 36次 (6.0%)
   动作3 (PROCESS_PART_3): 26次 (4.3%)

agent_五轴加工中心:
   动作0 (IDLE): 29次 (4.8%)
   动作1 (PROCESS_PART_1): 505次 (84.2%)
   动作2 (PROCESS_PART_2): 33次 (5.5%)
   动作3 (PROCESS_PART_3): 33次 (5.5%)

agent_砂光机:
   动作0 (IDLE): 26次 (4.3%)
   动作1 (PROCESS_PART_1): 517次 (86.2%)
   动作2 (PROCESS_PART_2): 24次 (4.0%)
   动作3 (PROCESS_PART_3): 33次 (5.5%)

agent_组装台:
   动作0 (IDLE): 22次 (3.7%)
   动作1 (PROCESS_PART_1): 523次 (87.2%)
   动作2 (PROCESS_PART_2): 31次 (5.2%)
   动作3 (PROCESS_PART_3): 24次 (4.0%)

agent_包装台:
   动作0 (IDLE): 37次 (6.2%)
   动作1 (PROCESS_PART_1): 501次 (83.5%)
   动作2 (PROCESS_PART_2): 36次 (6.0%)
   动作3 (PROCESS_PART_3): 26次 (4.3%)

📈 最终KPI:
   完成零件: 42
   总工期: 585.0
   延期时间: 21.0
   设备利用率: 58.0%


==================== 开始测试: 泛化测试3-大批量长周期 ====================
🔍 开始调试MARL模型行为
📋 配置: 泛化测试3-大批量长周期
🕹️  策略: 随机 (与evaluation.py对齐)
🌱 随机种子: 42
✅ 成功加载模型: mappo/ppo_models/20250918_234102/0918_2342base_train_best_actor.keras
🏭 环境信息:
   智能体数量: 5
   智能体列表: ['agent_带锯机', 'agent_五轴加工中心', 'agent_砂光机', 'agent_组装台', 'agent_包装台']

🎯 开始记录前600步的动作模式...

--- 步骤 1: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.79%, PROCESS_PART_1: 26.03%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.32%

--- 步骤 1: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 1: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 1: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 1: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.0%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 2: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    2. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    3. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.85%, PROCESS_PART_1: 26.12%, PROCESS_PART_2: 24.45%, PROCESS_PART_3: 25.58%

--- 步骤 2: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 2: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 2: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 2: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.2%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 3: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 100.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    2. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    3. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.85%, PROCESS_PART_1: 26.05%, PROCESS_PART_2: 24.49%, PROCESS_PART_3: 25.61%

--- 步骤 3: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 3: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 3: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 3: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.3%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 4: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 100.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    2. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    3. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.85%, PROCESS_PART_1: 26.05%, PROCESS_PART_2: 24.49%, PROCESS_PART_3: 25.61%

--- 步骤 4: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 4: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 4: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 4: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.5%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.03%, PROCESS_PART_3: 25.09%

--- 步骤 5: agent_带锯机 ---
[Observation Vector]
  - 智能体身份: 带锯机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 100.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    2. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
    3. 黑胡桃木餐桌: [剩余时间: 100.0%, 紧急度: 0.00, 优先级: 2.0, 终点站: 否, 松弛时间: 300.0]
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.85%, PROCESS_PART_1: 26.05%, PROCESS_PART_2: 24.49%, PROCESS_PART_3: 25.61%

--- 步骤 5: agent_五轴加工中心 ---
[Observation Vector]
  - 智能体身份: 五轴加工中心 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.39%, PROCESS_PART_1: 26.27%, PROCESS_PART_2: 24.86%, PROCESS_PART_3: 25.49%

--- 步骤 5: agent_砂光机 ---
[Observation Vector]
  - 智能体身份: 砂光机 (one-hot)
  - 工作站容量: 1.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.44%, PROCESS_PART_1: 26.02%, PROCESS_PART_2: 25.05%, PROCESS_PART_3: 25.49%

--- 步骤 5: agent_组装台 ---
[Observation Vector]
  - 智能体身份: 组装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.33%, PROCESS_PART_1: 26.35%, PROCESS_PART_2: 25.08%, PROCESS_PART_3: 25.24%

--- 步骤 5: agent_包装台 ---
[Observation Vector]
  - 智能体身份: 包装台 (one-hot)
  - 工作站容量: 2.0
  - 设备状态: [繁忙率: 0.0%, 是否故障: 否]
  - 队列零件 (前N个):
    1. (空)
    2. (空)
    3. (空)
  - 下游队列占用率: 0.0%
  - 全局信息: [时间进度: 0.7%, WIP率: 100.0%, 完成率: 0.0%]
[Action Probs]
  - IDLE: 23.60%, PROCESS_PART_1: 26.28%, PROCESS_PART_2: 25.04%, PROCESS_PART_3: 25.09%

--- 📈 KPI 快照 (第 100 步) ---
   完成零件: 4
   在制品(WIP): 76
   累计延期: 0.0
   当前利用率: 55.7%
-----------------------------------

--- 📈 KPI 快照 (第 200 步) ---
   完成零件: 13
   在制品(WIP): 67
   累计延期: 0.0
   当前利用率: 64.2%
-----------------------------------

--- 📈 KPI 快照 (第 300 步) ---
   完成零件: 22
   在制品(WIP): 58
   累计延期: 0.0
   当前利用率: 65.7%
-----------------------------------

--- 📈 KPI 快照 (第 400 步) ---
   完成零件: 30
   在制品(WIP): 50
   累计延期: 0.0
   当前利用率: 62.5%
-----------------------------------

--- 📈 KPI 快照 (第 500 步) ---
   完成零件: 37
   在制品(WIP): 43
   累计延期: 0.0
   当前利用率: 57.4%
-----------------------------------

--- 📈 KPI 快照 (第 600 步) ---
   完成零件: 42
   在制品(WIP): 38
   累计延期: 0.0
   当前利用率: 50.1%
-----------------------------------

📊 动作统计分析 (总共600步):
------------------------------------------------------------
agent_带锯机:
   动作0 (IDLE): 23次 (3.8%)
   动作1 (PROCESS_PART_1): 516次 (86.0%)
   动作2 (PROCESS_PART_2): 26次 (4.3%)
   动作3 (PROCESS_PART_3): 35次 (5.8%)

agent_五轴加工中心:
   动作0 (IDLE): 26次 (4.3%)
   动作1 (PROCESS_PART_1): 516次 (86.0%)
   动作2 (PROCESS_PART_2): 34次 (5.7%)
   动作3 (PROCESS_PART_3): 24次 (4.0%)

agent_砂光机:
   动作0 (IDLE): 34次 (5.7%)
   动作1 (PROCESS_PART_1): 504次 (84.0%)
   动作2 (PROCESS_PART_2): 37次 (6.2%)
   动作3 (PROCESS_PART_3): 25次 (4.2%)

agent_组装台:
   动作0 (IDLE): 21次 (3.5%)
   动作1 (PROCESS_PART_1): 525次 (87.5%)
   动作2 (PROCESS_PART_2): 30次 (5.0%)
   动作3 (PROCESS_PART_3): 24次 (4.0%)

agent_包装台:
   动作0 (IDLE): 34次 (5.7%)
   动作1 (PROCESS_PART_1): 501次 (83.5%)
   动作2 (PROCESS_PART_2): 32次 (5.3%)
   动作3 (PROCESS_PART_3): 33次 (5.5%)

📈 最终KPI:
   完成零件: 42
   总工期: 554.0
   延期时间: 0.0
   设备利用率: 50.1%

