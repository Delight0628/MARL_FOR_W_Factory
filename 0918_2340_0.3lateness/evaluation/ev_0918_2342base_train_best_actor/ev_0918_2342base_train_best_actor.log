================================================================================
🚀 开始进行静态环境下的调度策略综合评估
🔁 每个策略将独立运行 30 次以获取可靠的统计结果。
================================================================================

🔬 开始 基准测试
============================================================
🧠 开始评估MARL模型: mappo/ppo_models/20250918_234102/0918_2342base_train_best_actor.keras
📋 测试配置: 静态评估
2025-09-18 23:42:42.927717: E tensorflow/compiler/xla/stream_executor/cuda/cuda_driver.cc:268] failed call to cuInit: CUDA_ERROR_NO_DEVICE: no CUDA-capable device is detected
MARL模型评估(静态评估): 100%|██████████| 30/30 [545.78s, 0.05it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/ev_0918_2342base_train_best_actor/0.3lateness_MARL_PPO_静态评估.html
⚙️  开始评估启发式算法: FIFO
📋 测试配置: 静态评估
FIFO评估(静态评估): 100%|██████████| 30/30 [8.73s, 3.44it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/0.3lateness_FIFO_静态评估.html
⚙️  开始评估启发式算法: EDD
📋 测试配置: 静态评估
EDD评估(静态评估): 100%|██████████| 30/30 [8.73s, 3.44it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/0.3lateness_EDD_静态评估.html
⚙️  开始评估启发式算法: SPT
📋 测试配置: 静态评估
SPT评估(静态评估): 100%|██████████| 30/30 [8.87s, 3.38it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/0.3lateness_SPT_静态评估.html

🏆 基准测试 - 评估对比结果
------------------------------------------------------------
    Method Avg Score Std Score Avg Completion % Avg Makespan Avg Tardiness Avg Utilization %
MARL (PPO)     0.712     0.004            100.0        573.7         715.2              56.3
       SPT     0.792     0.000            100.0        572.0         330.0              56.4
       EDD     0.798     0.000            100.0        564.0         314.0              57.2
      FIFO     0.717     0.000            100.0        570.0         695.0              56.6

============================================================

🔬 开始 泛化测试1-高压力短交期
============================================================
🧠 开始评估MARL模型: mappo/ppo_models/20250918_234102/0918_2342base_train_best_actor.keras
📋 测试配置: 泛化测试1-高压力短交期
📦 自定义订单: 5个订单, 总计42个零件
MARL模型评估(泛化测试1-高压力短交期): 100%|██████████| 30/30 [473.40s, 0.06it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/ev_0918_2342base_train_best_actor/0.3lateness_MARL_PPO_泛化测试1-高压力短交期.html
⚙️  开始评估启发式算法: FIFO
📋 测试配置: 泛化测试1-高压力短交期
📦 自定义订单: 5个订单, 总计42个零件
FIFO评估(泛化测试1-高压力短交期): 100%|██████████| 30/30 [7.89s, 3.80it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/0.3lateness_FIFO_泛化测试1-高压力短交期.html
⚙️  开始评估启发式算法: EDD
📋 测试配置: 泛化测试1-高压力短交期
📦 自定义订单: 5个订单, 总计42个零件
EDD评估(泛化测试1-高压力短交期): 100%|██████████| 30/30 [8.63s, 3.48it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/0.3lateness_EDD_泛化测试1-高压力短交期.html
⚙️  开始评估启发式算法: SPT
📋 测试配置: 泛化测试1-高压力短交期
📦 自定义订单: 5个订单, 总计42个零件
SPT评估(泛化测试1-高压力短交期): 100%|██████████| 30/30 [8.23s, 3.64it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/0.3lateness_SPT_泛化测试1-高压力短交期.html

🏆 泛化测试1-高压力短交期 - 评估对比结果
------------------------------------------------------------
    Method Avg Score Std Score Avg Completion % Avg Makespan Avg Tardiness Avg Utilization %
MARL (PPO)     0.752     0.003            100.0        544.8         540.7              55.0
       SPT     0.744     0.000            100.0        538.0         584.0              55.7
       EDD     0.759     0.000            100.0        549.0         501.0              54.6
      FIFO     0.756     0.000            100.0        541.0         523.0              55.4

============================================================

🔬 开始 泛化测试2-混合优先级
============================================================
🧠 开始评估MARL模型: mappo/ppo_models/20250918_234102/0918_2342base_train_best_actor.keras
📋 测试配置: 泛化测试2-混合优先级
📦 自定义订单: 5个订单, 总计60个零件
MARL模型评估(泛化测试2-混合优先级): 100%|██████████| 30/30 [1016.30s, 0.03it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/ev_0918_2342base_train_best_actor/0.3lateness_MARL_PPO_泛化测试2-混合优先级.html
⚙️  开始评估启发式算法: FIFO
📋 测试配置: 泛化测试2-混合优先级
📦 自定义订单: 5个订单, 总计60个零件
FIFO评估(泛化测试2-混合优先级): 100%|██████████| 30/30 [11.74s, 2.56it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/0.3lateness_FIFO_泛化测试2-混合优先级.html
⚙️  开始评估启发式算法: EDD
📋 测试配置: 泛化测试2-混合优先级
📦 自定义订单: 5个订单, 总计60个零件
EDD评估(泛化测试2-混合优先级): 100%|██████████| 30/30 [11.53s, 2.60it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/0.3lateness_EDD_泛化测试2-混合优先级.html
⚙️  开始评估启发式算法: SPT
📋 测试配置: 泛化测试2-混合优先级
📦 自定义订单: 5个订单, 总计60个零件
SPT评估(泛化测试2-混合优先级): 100%|██████████| 30/30 [11.60s, 2.59it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/0.3lateness_SPT_泛化测试2-混合优先级.html

🏆 泛化测试2-混合优先级 - 评估对比结果
------------------------------------------------------------
    Method Avg Score Std Score Avg Completion % Avg Makespan Avg Tardiness Avg Utilization %
MARL (PPO)     0.677     0.001             70.0        585.8          23.0              29.0
       SPT     0.658     0.000             70.0        571.0         122.0              29.0
       EDD     0.685     0.000             70.0        566.0           0.0              29.0
      FIFO     0.678     0.000             70.0        582.0          18.0              29.0

============================================================

🔬 开始 泛化测试3-大批量长周期
============================================================
🧠 开始评估MARL模型: mappo/ppo_models/20250918_234102/0918_2342base_train_best_actor.keras
📋 测试配置: 泛化测试3-大批量长周期
📦 自定义订单: 4个订单, 总计80个零件
MARL模型评估(泛化测试3-大批量长周期): 100%|██████████| 30/30 [955.39s, 0.03it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/ev_0918_2342base_train_best_actor/0.3lateness_MARL_PPO_泛化测试3-大批量长周期.html
⚙️  开始评估启发式算法: FIFO
📋 测试配置: 泛化测试3-大批量长周期
📦 自定义订单: 4个订单, 总计80个零件
FIFO评估(泛化测试3-大批量长周期): 100%|██████████| 30/30 [10.75s, 2.79it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/0.3lateness_FIFO_泛化测试3-大批量长周期.html
⚙️  开始评估启发式算法: EDD
📋 测试配置: 泛化测试3-大批量长周期
📦 自定义订单: 4个订单, 总计80个零件
EDD评估(泛化测试3-大批量长周期): 100%|██████████| 30/30 [11.15s, 2.69it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/0.3lateness_EDD_泛化测试3-大批量长周期.html
⚙️  开始评估启发式算法: SPT
📋 测试配置: 泛化测试3-大批量长周期
📦 自定义订单: 4个订单, 总计80个零件
SPT评估(泛化测试3-大批量长周期): 100%|██████████| 30/30 [11.24s, 2.67it/s]
📊 甘特图已保存至: 0918_2340_0.3lateness/evaluation/0.3lateness_SPT_泛化测试3-大批量长周期.html

🏆 泛化测试3-大批量长周期 - 评估对比结果
------------------------------------------------------------
    Method Avg Score Std Score Avg Completion % Avg Makespan Avg Tardiness Avg Utilization %
MARL (PPO)     0.595     0.000             52.5        553.9           0.0              25.0
       SPT     0.596     0.000             52.5        549.0           0.0              25.0
       EDD     0.599     0.000             52.5        529.0           0.0              25.0
      FIFO     0.596     0.000             52.5        549.0           0.0              25.0

============================================================

🎯 最终汇总报告 - 泛化能力分析
================================================================================

📊 MARL (PPO) 在不同测试配置下的表现:
 Test_Config     Method Avg Score Std Score Avg Completion % Avg Makespan Avg Tardiness Avg Utilization %
        基准测试 MARL (PPO)     0.712     0.004            100.0        573.7         715.2              56.3
泛化测试1-高压力短交期 MARL (PPO)     0.752     0.003            100.0        544.8         540.7              55.0
 泛化测试2-混合优先级 MARL (PPO)     0.677     0.001             70.0        585.8          23.0              29.0
泛化测试3-大批量长周期 MARL (PPO)     0.595     0.000             52.5        553.9           0.0              25.0

📊 SPT 在不同测试配置下的表现:
 Test_Config Method Avg Score Std Score Avg Completion % Avg Makespan Avg Tardiness Avg Utilization %
        基准测试    SPT     0.792     0.000            100.0        572.0         330.0              56.4
泛化测试1-高压力短交期    SPT     0.744     0.000            100.0        538.0         584.0              55.7
 泛化测试2-混合优先级    SPT     0.658     0.000             70.0        571.0         122.0              29.0
泛化测试3-大批量长周期    SPT     0.596     0.000             52.5        549.0           0.0              25.0

📊 EDD 在不同测试配置下的表现:
 Test_Config Method Avg Score Std Score Avg Completion % Avg Makespan Avg Tardiness Avg Utilization %
        基准测试    EDD     0.798     0.000            100.0        564.0         314.0              57.2
泛化测试1-高压力短交期    EDD     0.759     0.000            100.0        549.0         501.0              54.6
 泛化测试2-混合优先级    EDD     0.685     0.000             70.0        566.0           0.0              29.0
泛化测试3-大批量长周期    EDD     0.599     0.000             52.5        529.0           0.0              25.0

📊 FIFO 在不同测试配置下的表现:
 Test_Config Method Avg Score Std Score Avg Completion % Avg Makespan Avg Tardiness Avg Utilization %
        基准测试   FIFO     0.717     0.000            100.0        570.0         695.0              56.6
泛化测试1-高压力短交期   FIFO     0.756     0.000            100.0        541.0         523.0              55.4
 泛化测试2-混合优先级   FIFO     0.678     0.000             70.0        582.0          18.0              29.0
泛化测试3-大批量长周期   FIFO     0.596     0.000             52.5        549.0           0.0              25.0

💡 指标解读:
  - Avg Score: 综合评分，越高越好 (我们的核心优化目标)。
  - Std Score: 分数标准差，越低说明策略越稳定。
  - Avg Completion %: 平均任务完成率，越高越好。
  - Avg Makespan: 平均总完工时间，越低越好。
  - Avg Tardiness: 平均总延期时间，越低越好。
  - Avg Utilization %: 平均设备利用率，越高说明资源利用越充分。

🔬 泛化能力分析结论:
  观察MARL模型在不同测试配置下的评分稳定性，
  对比启发式算法在面对新订单配置时的性能波动，
  以此评估各策略的泛化能力和鲁棒性。
